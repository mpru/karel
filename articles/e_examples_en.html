<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>5 - Examples • karel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="5 - Examples">
<meta property="og:description" content="We finish this tutorial with several problems to put in practice everything we have learned with Karel.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">karel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Getting started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/aa_get_started_en.html">EN - Get started with Karel the robot</a>
    </li>
    <li>
      <a href="../articles/aa_get_started_es.html">ES - Primeros pasos con la robot Karel</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Artículos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    </li>
<li class="dropdown-header">ES - Tutoriales en español</li>
    <li>
      <a href="../articles/a_intro_progrbasics_es.html">1 - Introducción y nociones básicas</a>
    </li>
    <li>
      <a href="../articles/b_meetingkarel_es.html">2 - Conociendo a Karel</a>
    </li>
    <li>
      <a href="../articles/c_decomposition_es.html">3 - Descomposición algorítmica</a>
    </li>
    <li>
      <a href="../articles/d_controlstructures_es.html">4 - Estructuras de control del código</a>
    </li>
    <li>
      <a href="../articles/e_examples_es.html">5 - Varios problemas de ejemplo</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">EN - Tutorials in English</li>
    <li>
      <a href="../articles/a_intro_progrbasics_en.html">1 - Introduction and programming basics</a>
    </li>
    <li>
      <a href="../articles/b_meetingkarel_en.html">2 - Meeting Karel</a>
    </li>
    <li>
      <a href="../articles/c_decomposition_en.html">3 - Algorithmic decomposition</a>
    </li>
    <li>
      <a href="../articles/d_controlstructures_en.html">4 - Control structures</a>
    </li>
    <li>
      <a href="../articles/e_examples_en.html">5 - Examples</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../articles/index.html">Más artículos...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Índice</a>
</li>
<li>
  <a href="../news/index.html">Registro de cambios</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://twitter.com/mrqtsp" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/mpru/karel" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>5 - Examples</h1>
            
      
      <small class="dont-index">Código: <a href="https://github.com/mpru/karel/blob/HEAD/vignettes/e_examples_en.Rmd" class="external-link"><code>vignettes/e_examples_en.Rmd</code></a></small>
      <div class="hidden name"><code>e_examples_en.Rmd</code></div>

    </div>

    
    
<p>In this section, we will present other examples that will help us
continue thinking about the principle of algorithmic decomposition and,
furthermore, how to think of solutions that are general enough to
address different versions of the same problem.</p>
<p><em>Some examples presented in this tutorial were adapted from “Karel
the robot learns Java” (Eric Roberts, 2005).</em></p>
<div class="section level2">
<h2 id="fixing-the-street-again">
<strong>Fixing the street again</strong><a class="anchor" aria-label="anchor" href="#fixing-the-street-again"></a>
</h2>
<p>In the previous section, we proposed the following program to solve
the problem of filling the holes in the street:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ------------ Definition of auxiliary functions -----------</span></span>
<span></span>
<span><span class="co"># Function: fill_hole</span></span>
<span><span class="va">fill_hole</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_right</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">no_beepers_present</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">put_beeper</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_around</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_right</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># ------------------- Main program -------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo003"</span><span class="op">)</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">fill_hole</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This program works for worlds with streets of any length. However, it
would not work if the holes were not evenly spaced as we initially
assumed. It would be better to have a more general program that works
under these conditions:</p>
<ul>
<li><p>The world can have streets of any length.</p></li>
<li><p>The holes can be located at any position along the street,
without restrictions on the number or spacing.</p></li>
<li><p>Some holes may already be filled, so Karel should not put a
<em>thing</em> in them.</p></li>
</ul>
<p>An example of this type of world is:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo006"</span><span class="op">)</span></span></code></pre></div>
<p><img src="24a.png" width="50%" style="display: block; margin: auto;"></p>
<p>To solve this problem, instead of starting each iteration with a
move, we should first check if there is a hole where Karel is standing.
If there is, Karel should fill it in if it is not already filled, and
then move. Therefore, the iterating block should be modified as
follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ------------------- Main program -------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo106"</span><span class="op">)</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">right_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">fill_hole</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>However, this program has a flaw because while it works in this
situation...</p>
<p><img src="24.png" width="40%" style="display: block; margin: auto;"></p>
<p>...it does not work in this one:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ------------------- Main program -------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo007"</span><span class="op">)</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">right_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">fill_hole</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="25.png" width="80%" style="display: block; margin: auto;"></p>
<p>Karel stops without filling the last hole. In fact, Karel doesn’t
even go down to check if it needs to be filled or not. The problem is
that as soon as Karel fills the hole on avenue 6, it executes the
<strong><code>move</code></strong> action and ends up facing a wall,
causing the <strong><code>while</code></strong> loop to stop before
evaluating that last position. This is a fairly common logical error
when working with iterative structures, but its solution is simple. All
we have to do is add an additional check after the
<strong><code>while</code></strong> loop has finished:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ------------------- Main program -------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo007"</span><span class="op">)</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">right_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">fill_hole</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">right_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">fill_hole</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="26.gif" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="create-other-functions-that-make-karel-even-more-powerful">
<strong>Create other functions that make Karel even more
powerful</strong><a class="anchor" aria-label="anchor" href="#create-other-functions-that-make-karel-even-more-powerful"></a>
</h2>
<p>Karel already knows how to turn, move forward, put, and gather
<em>beepers</em>. However, we can imagine that in order to perform in
its world, there are certainly some activities that it must frequently
repeat. For example, moving straight ahead until it encounters a wall,
gathering all the <em>beepers</em> it can find along a street or avenue,
or emptying its backpack by putting <em>beepers</em> in a place until it
has none left. Let’s create functions that take care of these tasks so
that Karel can implement them at any time.</p>
<ol style="list-style-type: decimal">
<li><strong>Move forward until encountering a wall</strong></li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Function: move_forward_until_wall()</span></span>
<span><span class="co"># Description: allows Karel to move forward until it encounters a wall</span></span>
<span><span class="co"># Initial condition: none</span></span>
<span><span class="co"># Final condition: Karel is facing a wall</span></span>
<span><span class="va">move_forward_until_wall</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><strong>Collect a line of beepers</strong></li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Function: collect_line()</span></span>
<span><span class="co"># Description: allows Karel to collect a consecutive line of beepers. The line</span></span>
<span><span class="co"># ends at the first cell that does not have beepers.</span></span>
<span><span class="co"># Initial condition: none</span></span>
<span><span class="co"># Final condition: Karel is at the end of the line, facing the same direction as</span></span>
<span><span class="co"># at the beginning</span></span>
<span><span class="va">collect_line</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">beepers_present</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">pick_beeper</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li><strong>Put all the beepers in the backpack in one
place</strong></li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Function: put_all()</span></span>
<span><span class="co"># Description: Karel puts all the beepers in its backpack in its current</span></span>
<span><span class="co"># position</span></span>
<span><span class="co"># Initial condition: none</span></span>
<span><span class="co"># Final condition: none</span></span>
<span><span class="va">put_all</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">karel_has_beepers</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">put_beeper</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="collect-columns-of-beepers">
<strong>Collect columns of <em>beepers</em></strong><a class="anchor" aria-label="anchor" href="#collect-columns-of-beepers"></a>
</h2>
<p>In this example, there are no walls in Karel’s world, but there are
columns of <em>beepers</em> of varying heights along some avenues, while
other avenues are empty. Karel’s job is to collect all the columns,
leave them in the bottom-right position as shown in the diagram, and
return to its initial position:</p>
<p><img src="27.png" style="display: block; margin: auto;"></p>
<p>As we have already said, a good advice for tackling any problem is to
try to break it down into smaller parts. Following this idea, we can
imagine that the main program can be composed of three parts: collect
all the <em>beepers</em> and store them in its backpack, deposit them in
the corner, and return to the initial position. Something like this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo008"</span><span class="op">)</span></span>
<span><span class="fu">collect_all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">put_all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">return_to_start</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>As it is, it is very easy to understand what needs to be done. It
also uses a function that we already have defined before,
<strong><code>put_all()</code></strong>. The only thing missing, which
is not insignificant, is to write the other two sub-algorithms, which in
turn can be broken down into smaller problems.</p>
<p>First, we need to collect all the columns of <em>beepers</em>,
without knowing how many there may be. This suggests the use of a
<strong><code>while</code></strong> loop. We have to collect column by
column until we encounter the wall:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">collect_all</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">collect_one_column</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu">collect_one_column</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Note that after the <strong><code>while</code></strong> we have
repeated <strong><code>recolectar_una_columna()</code></strong> for the
reason explained in the previous example. Additionally, we are telling
it to collect the column without checking if there is one... what
happens if there isn’t any? Answer this question when you read the
complete program below, but we assure you that it’s fine to do it this
way.</p>
<p>Of course, then we need to create this new function
<strong><code>recolectar_una_columna()</code></strong> that has to take
care of Karel:</p>
<ol style="list-style-type: decimal">
<li><p>Turn to face north.</p></li>
<li><p>Collect all the <em>things</em> stopping when there are no more
(does this problem sound familiar?).</p></li>
<li><p>Turn around to start the descent.</p></li>
<li><p>Go down to the wall representing the floor (does this problem
sound familiar?).</p></li>
<li><p>Turn again to be ready to move to the next column.</p></li>
</ol>
<p>So, the function should be something like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">collect_one_column</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_left</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">collect_line</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_around</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">move_forward_until_wall</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_left</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Two functions appeared there that we defined in the previous
exercise, which as we anticipated are quite common activities that are
very useful to have them already programmed. The complete program is
shown below. Remember that in R we need to first execute the functions
we have invented and then the main program that uses them.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ------------ Definición de otras funciones auxiliares-----------</span></span>
<span></span>
<span><span class="co"># Function: collect_all()</span></span>
<span><span class="co"># Description: allows collecting all the things in each column by moving along the first avenue.</span></span>
<span><span class="co"># Initial condition: Karel is facing east at position (1, 1).</span></span>
<span><span class="co"># Final condition: Karel is facing east at the position of the rightmost cell in the first row.</span></span>
<span><span class="va">collect_all</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">front_is_clear</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">collect_one_column</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu">collect_one_column</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Function: collect_one_column()</span></span>
<span><span class="co"># Description: allows collecting all the things in a single column</span></span>
<span><span class="co"># Initial condition: Karel must be at the base of the column facing east</span></span>
<span><span class="co"># Final condition: Karel is in the same position and direction as at the beginning</span></span>
<span><span class="va">collect_one_column</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_left</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">collect_line</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_around</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">move_forward_until_wall</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_left</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Function: return_to_start()</span></span>
<span><span class="co"># Description: allows Karel to return to position (1, 1)</span></span>
<span><span class="co"># Initial condition: Karel is facing east somewhere on the first row</span></span>
<span><span class="co"># Final condition: Karel is at position (1, 1) facing east</span></span>
<span><span class="va">return_to_start</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_around</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">move_forward_until_wall</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_around</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># ------------------- Main program -------------------</span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo008"</span><span class="op">)</span></span>
<span><span class="fu">collect_all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">put_all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">return_to_start</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="28.gif" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="the-maze">
<strong>The Maze</strong><a class="anchor" aria-label="anchor" href="#the-maze"></a>
</h2>
<p>Now let’s imagine that Karel is in a maze like the one below, where
the <em>thing</em> represents the exit:</p>
<p><img src="29.png" style="display: block; margin: auto;"></p>
<p>We have to create a program so that Karel can reach there, however,
it has to be general to work for this and any other maze. There is a
strategy to solve any maze: if when you enter, you touch the wall on
your right with your hand and walk without ever letting go of it, you
will eventually reach the exit. This is known as the <em>right-hand
rule</em> and translates to always turning right, in every path choice
that arises (of course, it would also work if you always turned
left).</p>
<p>The brief program presented below implements the right-hand
algorithm. Many times, programs that solve very interesting problems are
neither long nor convoluted. Look at it carefully until you are
convinced that you understand the logic of this algorithm:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ------------------- Main program -------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo009"</span><span class="op">)</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/conditions.html">no_beepers_present</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">turn_right</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="../reference/condiciones.html">frente_cerrado</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/actions.html">turn_left</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="30.gif" width="40%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="more-problems">
<strong>More Problems</strong><a class="anchor" aria-label="anchor" href="#more-problems"></a>
</h2>
<p>Next, we propose some exercises to continue reviewing what you have
learned with Karel.</p>
<div class="section level3">
<h3 id="problem-1-collecting-the-newspaper">
<strong>Problem 1: Collecting the newspaper</strong><a class="anchor" aria-label="anchor" href="#problem-1-collecting-the-newspaper"></a>
</h3>
<p>To warm up, let’s start with a simple problem. Imagine that Karel is
at home, which is the square region in the center of the following
diagram:</p>
<p><img src="problema_1_1.png" width="50%" style="display: block; margin: auto;"></p>
<p>Karel must leave the house to pick up the newspaper (represented, of
course, by a <em>thing</em>) and return to its initial position, where
it will place the newspaper to start reading. Let’s assume that Karel’s
house (its size, the location of the door and the newspaper) does not
change, meaning that we don’t have to generalize this problem for other
possible configurations. Write the program in R in the following
ways:</p>
<p>a. First, solve this problem using only Karel’s four basic actions
(advance, turn left, put, and collect <em>things</em>).</p>
<p>b. Second, solve the problem using the principle of algorithmic
decomposition. For this, create a sub-algorithm that takes care of Karel
leaving the house and another for Karel entering and returning to the
initial position. Use them in the main algorithm. Additionally, you can
use Karel’s superpowers (turn right and turn around), whose functions in
R are available if you run
<strong><code><a href="../reference/cargar_super_karel.html">cargar_super_karel()</a></code></strong> beforehand.</p>
<p>Use the world: <strong><code>"mundo011"</code></strong>.</p>
</div>
<div class="section level3">
<h3 id="problem-2-going-around-the-house">
<strong>Problem 2: Going around the house</strong><a class="anchor" aria-label="anchor" href="#problem-2-going-around-the-house"></a>
</h3>
<p>Now let’s assume that Karel needs to exercise a bit, and for that, it
will leave the house and make exactly three turns around it in a
clockwise direction. Write the algorithm and the program to do this,
considering the structure of the world provided in the previous problem
(<strong><code>"mundo011"</code></strong>). Use the sub-algorithms
created in problem 1.b, as well as any others you consider necessary to
create. Karel should end up in the same position and direction as it
started.</p>
</div>
<div class="section level3">
<h3 id="problem-3-creating-a-line-of-beepers">
<strong>Problem 3: Creating a line of</strong> beepers<a class="anchor" aria-label="anchor" href="#problem-3-creating-a-line-of-beepers"></a>
</h3>
<p>Write a function for Karel to place a line of <em>things</em>
starting from its current position and advancing until it encounters a
wall in front. For example, the result of executing this function in an
empty world would be like this:</p>
<p><img src="problema_1_3.png" width="80%" style="display: block; margin: auto;"></p>
<p>The function should work for worlds of any size. Use the worlds:
<strong><code>"mundo012"</code></strong>,
<strong><code>"mundo013"</code></strong>, and
<strong><code>"mundo014"</code></strong>.</p>
</div>
<div class="section level3">
<h3 id="problem-4-jumping-over-sticks">
<strong>Problem 4: Jumping over sticks</strong><a class="anchor" aria-label="anchor" href="#problem-4-jumping-over-sticks"></a>
</h3>
<p>Write a program for Karel to jump over sticks as shown in the
following diagram:</p>
<p><img src="problema_1_4.png" width="80%" style="display: block; margin: auto;"></p>
<p>Some considerations:</p>
<ul>
<li><p>Karel “jumps” over the sticks by going around them, one at a
time.</p></li>
<li><p>Karel starts at position (1, 1) and must end at position (9,
1).</p></li>
<li><p>The solution should work for worlds that may have a different
number of sticks and different lengths, but always with a width of 9
avenues.</p></li>
<li><p>Use the worlds: <strong><code>"mundo015"</code></strong> and
<strong><code>"mundo016"</code></strong>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="problem-5-cleaning-the-world">
<strong>Problem 5: Cleaning the World</strong><a class="anchor" aria-label="anchor" href="#problem-5-cleaning-the-world"></a>
</h3>
<p>In this problem, we need to help Karel clean its world since there
are <em>things</em> scattered everywhere. It is assumed that:</p>
<ul>
<li><p>Karel starts at position (1, 1).</p></li>
<li><p>Initially, each position in the world may be empty or have at
most one <em>thing</em>, and by the end, there should be no
<em>things</em> left in the world.</p></li>
<li><p>Karel can have any position and direction at the end.</p></li>
</ul>
<p>For example, when running your program in the following world, this
would be the expected result:</p>
<p><img src="problema_1_5.png" width="80%" style="display: block; margin: auto;"></p>
<p>Use the worlds: <strong><code>"mundo017"</code></strong> and
<strong><code>"mundo018"</code></strong>.</p>
</div>
<div class="section level3">
<h3 id="problem-6-placing-beepers-in-the-vertices-of-the-diamond">
<strong>Problem 6: Placing beepers in the vertices of the
<em>diamond</em></strong><a class="anchor" aria-label="anchor" href="#problem-6-placing-beepers-in-the-vertices-of-the-diamond"></a>
</h3>
<p>Write a program for Karel to place <em>things</em> in the vertices of
the <em>diamond</em> it is enclosed in, as shown below:</p>
<p><img src="problema1.png" width="80%" style="display: block; margin: auto;"></p>
<p>The program should work in worlds where the size of the diamond may
vary, but you can assume that Karel always starts positioned at the
western vertex, facing east. Use the worlds
<strong><code>mundo019</code></strong> and
<strong><code>mundo020</code></strong>.</p>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="problem-7-doubling-the-number-of-beepers">
<strong>Problem 7: Doubling the number of
<em>beepers</em></strong><a class="anchor" aria-label="anchor" href="#problem-7-doubling-the-number-of-beepers"></a>
</h3>
<p>Write a program for Karel to duplicate the number of <em>things</em>
at a specific position. For example:</p>
<p><img src="problema2.png" width="80%" style="display: block; margin: auto;"></p>
<p>Assume that:</p>
<ul>
<li><p>The world always looks like the diagram above (same size and no
walls).</p></li>
<li><p>The <em>things</em> to be duplicated are always at position (3,
3), and there should be twice as many <em>things</em> in that position
after the program finishes.</p></li>
<li><p>The initial number of <em>things</em> at position (3, 3) can be
any, with at least one <em>thing</em> always present.</p></li>
<li><p>Karel has an infinite number of <em>things</em> in its
bag.</p></li>
</ul>
<p>The main program should be:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Main program</span></span>
<span><span class="fu"><a href="../reference/generate_world.html">generate_world</a></span><span class="op">(</span><span class="st">"mundo021"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">duplicate_beepers</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/actions.html">move</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_actions.html">run_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>In other words, you should write a function called
<strong><code>duplicar_cosos()</code></strong> that is responsible for
performing this task, which in turn can be decomposed into other
sub-algorithms. Use the world
<strong><code>mundo021</code></strong>.</p>
</div>
<div class="section level3">
<h3 id="problem-8-repairing-columns">
<strong>Problem 8: Repairing columns</strong><a class="anchor" aria-label="anchor" href="#problem-8-repairing-columns"></a>
</h3>
<p>Karel has been hired to restore the columns of an ancient wall, and
for this, she must place the missing stones, represented by
<em>things</em>, on them. That is, she must achieve this:</p>
<p><img src="problema3.png" width="80%" style="display: block; margin: auto;"></p>
<p>Write a program that works in the above scheme but is also general
enough to work on other walls (worlds) that meet the following
characteristics:</p>
<ul>
<li><p>Karel initially finds herself at the intersection of Avenue 1 and
Street 1, facing east, with an infinite number of <em>things</em> in her
bag.</p></li>
<li><p>The columns are always at a distance of 4 positions, on Avenue 1,
5, 9, etc.</p></li>
<li><p>The end of the sequence of columns is determined by the wall (the
world’s edge) immediately after the last column. In the example diagram,
it ends after Avenue 13, but it could end after 5, 9, 13, 17,
etc.</p></li>
<li><p>The upper edge of the column is determined by a horizontal wall,
but Karel should not assume that the height of the columns is always 5
as in the example, nor that all columns have the same height.</p></li>
<li><p>Some parts of the columns have a <em>thing</em>, representing
stones that do not need repair. Karel should not place a second
<em>thing</em> on them.</p></li>
<li><p>The final position and direction of Karel do not matter.</p></li>
</ul>
<p>Use the worlds <strong><code>mundo022</code></strong>,
<strong><code>mundo023</code></strong>, and
<strong><code>mundo024</code></strong>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Desarrollado por Marcos Prunello.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Sitio creado con <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
